{"version":3,"file":"static/js/720.beba1db8.chunk.js","mappings":"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","sources":["components/LazyLoadedObjectCardComponent/LazyLoadedObjectCardComponent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSpring, animated } from \"react-spring\";\nimport { useInView } from \"react-intersection-observer\";\n\nconst LazyLoadedObjectCardComponent = ({ id, setDetailOverlay, ...rest }) => {\n  const [ref, inView] = useInView({\n    rootMargin: \"200px 0px\",\n  });\n  const [item, setItem] = useState(null);\n\n  useEffect(() => {\n    const abortController = new AbortController(); // this is used to cancel ongoing fetch requests when user updates the keyword to make sure we only run relavant queries\n\n    const fetchData = async () => {\n      console.info(\"downloading details for object id:\" + id);\n\n      try {\n        var res = await fetch(\n          `https://collectionapi.metmuseum.org/public/collection/v1/objects/${id}`,\n          { cache: \"force-cache\", signal: abortController.signal } // quick and inexpensive way to force browser to cache these subsequent calls since these will most likely be static result\n        );\n\n        var response = await res.json();\n\n        setItem(response);\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"Fetch Details aborted ðŸ‘€\");\n          console.dir(err);\n        } else {\n          console.error(\"Error occured\", err);\n        }\n      }\n    };\n\n    if (inView) fetchData();\n\n    return function cleanup() {\n      abortController.abort();\n    };\n  }, [id, inView]);\n\n  const fadeInProps = useSpring({ opacity: 1, from: { opacity: 0 } });\n\n  const [{ transform, color, opacity }, setAnimatedProps] = useSpring(() => ({\n    transform: \"scale(1)\",\n    color: \"#000\",\n    opacity: \"0.7\",\n    marginTop: 1,\n  }));\n\n  return (\n    <animated.div\n      ref={ref}\n      {...rest}\n      onMouseOver={() =>\n        setAnimatedProps({\n          color: \"#fff\",\n          opacity: \"1\",\n          transform: \"scale(1.06)\",\n          marginTop: 10,\n        })\n      }\n      onMouseLeave={() =>\n        setAnimatedProps({\n          x: 100,\n          color: \"#000\",\n          opacity: \"0.7\",\n          transform: \"scale(1)\",\n        })\n      }\n    >\n      {inView && item ? (\n        <animated.div\n          style={{ ...fadeInProps, transform }}\n          key={item.objectID}\n          onClick={() => {\n            setDetailOverlay(item);\n          }}\n        >\n          {item.primaryImageSmall && (\n            <img alt={item.objectName} src={item.primaryImageSmall} />\n          )}\n          <animated.span style={{ color, opacity }}>\n            {item.title}\n            <a\n              target=\"_new\"\n              href={item.objectURL}\n              aria-label={`View ${item.objectName} on museum's website`}\n            >\n              Link\n            </a>\n          </animated.span>\n        </animated.div>\n      ) : null}\n    </animated.div>\n  );\n};\n\nexport default LazyLoadedObjectCardComponent;\n"],"names":["_ref","id","setDetailOverlay","rest","_objectWithoutProperties","_excluded","_useInView","useInView","rootMargin","_useInView2","_slicedToArray","ref","inView","_useState","useState","_useState2","item","setItem","useEffect","abortController","AbortController","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","response","wrap","_context","prev","next","console","info","fetch","concat","cache","signal","sent","json","t0","name","log","dir","error","stop","apply","arguments","abort","fadeInProps","useSpring","opacity","from","_useSpring","transform","color","marginTop","_useSpring2","_useSpring2$","setAnimatedProps","_jsx","animated","_objectSpread","onMouseOver","onMouseLeave","x","children","_jsxs","style","onClick","primaryImageSmall","alt","objectName","src","title","target","href","objectURL","objectID"],"sourceRoot":""}