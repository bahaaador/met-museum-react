"use strict";(self.webpackChunkmet_museum_react=self.webpackChunkmet_museum_react||[]).push([[591],{591:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(413),o=n(165),a=n(861),c=n(885),s=n(925),i=n(791),l=n(412),u=n(348),f=n(184),m=["id","setDetailOverlay"],d=function(){return(0,f.jsxs)("div",{className:"shimmer","aria-label":"Loading content",children:[(0,f.jsx)("div",{className:"image"}),(0,f.jsx)("div",{className:"content",children:(0,f.jsx)("span",{className:"title"})})]})},p=function(e){var t=e.id,n=e.setDetailOverlay,p=((0,s.Z)(e,m),(0,u.YD)({rootMargin:"200px 0px"})),h=(0,c.Z)(p,2),v=h[0],g=h[1],y=(0,i.useState)(null),x=(0,c.Z)(y,2),j=x[0],b=x[1],Z=(0,i.useState)(!1),k=(0,c.Z)(Z,2),q=k[0],_=k[1],N=function(){console.log("handleImageLoaded",{imageLoaded:q}),_(!0)};(0,i.useEffect)((function(){var e=new AbortController,n=function(){var n=(0,a.Z)((0,o.Z)().mark((function n(){var r,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.info("fetching details for object id:"+t),n.prev=1,n.next=4,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(t),{cache:"force-cache",signal:e.signal});case 4:return r=n.sent,n.next=7,r.json();case 7:a=n.sent,b(a),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),"AbortError"===n.t0.name?(console.log("Fetch details aborted \ud83d\udc40"),console.dir(n.t0)):console.error("Error fetching item id:".concat(t),n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}();return g&&n(),function(){e.abort()}}),[t,g]);var w=(0,l.q_)({opacity:1,from:{opacity:0}}),L=(0,l.q_)({opacity:q?1:0}),C=(0,l.q_)((function(){return{transform:"scale(1)",color:"#000",opacity:"0.7",marginTop:0}})),D=(0,c.Z)(C,2),I=D[0],S=I.transform,E=I.color,M=I.opacity,O=D[1];return(0,f.jsx)(l.q.div,{style:(0,r.Z)((0,r.Z)({},w),{},{transform:S}),className:"card",ref:v,onMouseOver:function(){return O({color:"#fff",opacity:"1",transform:"scale(1.06)"})},onMouseLeave:function(){return O({color:"#000",opacity:"0.7",transform:"scale(1)"})},children:g?null==j?(0,f.jsx)(d,{}):(0,f.jsxs)(l.q.div,{onClick:function(){n(j)},children:[j.primaryImageSmall&&(0,f.jsx)(l.q.img,{style:L,hidden:!0,alt:j.objectName,src:j.primaryImageSmall,onLoad:N}),(0,f.jsx)(l.q.span,{style:{color:E,opacity:M},children:j.title})]},j.objectID):null})}}}]);
//# sourceMappingURL=591.aa4d2774.chunk.js.map